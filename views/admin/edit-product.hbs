<div class="container mt-4">
  <h2 class="text-center mb-4">Edit Product</h2>
  <form action="/admin/edit-product/{{product._id}}" method="POST" enctype="multipart/form-data">
    
    <div class="mb-3">
      <label for="Name" class="form-label">Name</label>
      <input type="text" class="form-control" name="Name" id="Name" value="{{product.Name}}" required>
    </div>

    <div class="mb-3">
      <label for="Category" class="form-label">Category</label>
      <input type="text" class="form-control" name="Category" id="Category" value="{{product.Category}}" required>
    </div>

    <div class="mb-3">
      <label for="Description" class="form-label">Description</label>
      <textarea class="form-control" name="Description" id="Description" rows="3">{{product.Description}}</textarea>
    </div>

    <div class="mb-3">
      <label for="Price" class="form-label">Price</label>
      <input type="number" class="form-control" name="Price" id="Price" value="{{product.Price}}" step="0.01" required>
    </div>

    <div class="mb-3">
      <label for="Image" class="form-label">Image</label>
      <div class="mb-2">
        <img src="/product-images/{{product._id}}.jpg" width="100" id="image-display" alt="Product Image">
      </div>
      <input type="file" class="form-control" name="Image" id="image-input" accept="image/*">
    </div>

    <button type="submit" class="btn btn-primary">Update</button>
  </form>
</div>

<script>
  document.getElementById('image-input').addEventListener('change', function(e) {
    const file = e.target.files[0];
    if (file) {
      const reader = new FileReader();
      reader.onload = ev => document.getElementById('image-display').src = ev.target.result;
      reader.readAsDataURL(file);
    }
  });
</script>
